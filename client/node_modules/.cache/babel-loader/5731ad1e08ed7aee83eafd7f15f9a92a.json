{"ast":null,"code":"import axios from \"axios\";\nimport { USER_LOGIN_START, USER_LOGIN_SUCCESS, USER_LOGIN_FAILURE, USER_LOGOUT, USER_LOGIN } from \"./types\";\nvar baseUrl = \"https://backend-art.herokuapp.com/\"; //FOR POSTS,PUTS,DELETES\n\nvar token = localStorage.getItem(\"jwt\");\nvar request = {\n  headers: {\n    authorization: token\n  }\n};\nexport var loginUser = function loginUser(userCredentials) {\n  return function (dispatch) {\n    dispatch({\n      type: USER_LOGIN_START\n    });\n    axios.post(\"\".concat(baseUrl, \"api/login\"), userCredentials).then(function (response) {\n      window.localStorage.setItem(\"token\", response.data.token);\n      window.localStorage.setItem(\"username\", userCredentials.username);\n      window.localStorage.setItem(\"userId\", response.data.userId);\n      dispatch({\n        type: USER_LOGIN_SUCCESS,\n        payload: response.data\n      });\n    }).catch(function (error) {\n      return dispatch({\n        type: USER_LOGIN_FAILURE,\n        payload: error\n      });\n    });\n  };\n};\nexport var logoutUser = function logoutUser() {\n  return function (dispatch) {\n    dispatch({\n      type: USER_LOGOUT\n    });\n  };\n};\nexport var secretLogin = function secretLogin() {\n  return function (dispatch) {\n    dispatch({\n      type: USER_LOGIN\n    });\n  };\n}; //REMEMBER TO PUT THIS IN REDUCER!!!!!\n//localStorage.setItem(\"token\", response.data.token);\n//this.props.history.push('/');","map":{"version":3,"sources":["/Users/atb/Dev/publicRepos/Front-End-Architect-1/client/src/store/actions/authActions.js"],"names":["axios","USER_LOGIN_START","USER_LOGIN_SUCCESS","USER_LOGIN_FAILURE","USER_LOGOUT","USER_LOGIN","baseUrl","token","localStorage","getItem","request","headers","authorization","loginUser","userCredentials","dispatch","type","post","then","response","window","setItem","data","username","userId","payload","catch","error","logoutUser","secretLogin"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,gBADF,EAEEC,kBAFF,EAGEC,kBAHF,EAIEC,WAJF,EAKEC,UALF,QAMO,SANP;AAOA,IAAMC,OAAO,GAAG,oCAAhB,C,CACA;;AACA,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAd;AACA,IAAMC,OAAO,GAAG;AACdC,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAEL;AADR;AADK,CAAhB;AAKA,OAAO,IAAMM,SAAS,GAAG,SAAZA,SAAY,CAAAC,eAAe;AAAA,SAAI,UAAAC,QAAQ,EAAI;AACtDA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEf;AAAR,KAAD,CAAR;AACAD,IAAAA,KAAK,CACFiB,IADH,WACWX,OADX,gBAC+BQ,eAD/B,EAEGI,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChBC,MAAAA,MAAM,CAACZ,YAAP,CAAoBa,OAApB,CAA4B,OAA5B,EAAqCF,QAAQ,CAACG,IAAT,CAAcf,KAAnD;AACAa,MAAAA,MAAM,CAACZ,YAAP,CAAoBa,OAApB,CAA4B,UAA5B,EAAwCP,eAAe,CAACS,QAAxD;AACAH,MAAAA,MAAM,CAACZ,YAAP,CAAoBa,OAApB,CAA4B,QAA5B,EAAsCF,QAAQ,CAACG,IAAT,CAAcE,MAApD;AACAT,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEd,kBAAR;AAA4BuB,QAAAA,OAAO,EAAEN,QAAQ,CAACG;AAA9C,OAAD,CAAR;AACD,KAPH,EAQGI,KARH,CAQS,UAAAC,KAAK;AAAA,aAAIZ,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEb,kBAAR;AAA4BsB,QAAAA,OAAO,EAAEE;AAArC,OAAD,CAAZ;AAAA,KARd;AASD,GAXuC;AAAA,CAAjC;AAaP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,UAAAb,QAAQ,EAAI;AAC1CA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEZ;AAAR,KAAD,CAAR;AACD,GAFyB;AAAA,CAAnB;AAIP,OAAO,IAAMyB,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAM,UAAAd,QAAQ,EAAI;AAC3CA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEX;AAAR,KAAD,CAAR;AACD,GAF0B;AAAA,CAApB,C,CAGP;AACA;AACA","sourcesContent":["import axios from \"axios\";\nimport {\n  USER_LOGIN_START,\n  USER_LOGIN_SUCCESS,\n  USER_LOGIN_FAILURE,\n  USER_LOGOUT,\n  USER_LOGIN\n} from \"./types\";\nconst baseUrl = \"https://backend-art.herokuapp.com/\";\n//FOR POSTS,PUTS,DELETES\nconst token = localStorage.getItem(\"jwt\");\nconst request = {\n  headers: {\n    authorization: token\n  }\n};\nexport const loginUser = userCredentials => dispatch => {\n  dispatch({ type: USER_LOGIN_START });\n  axios\n    .post(`${baseUrl}api/login`, userCredentials)\n    .then(response => {\n      window.localStorage.setItem(\"token\", response.data.token);\n      window.localStorage.setItem(\"username\", userCredentials.username);\n      window.localStorage.setItem(\"userId\", response.data.userId);\n      dispatch({ type: USER_LOGIN_SUCCESS, payload: response.data });\n    })\n    .catch(error => dispatch({ type: USER_LOGIN_FAILURE, payload: error }));\n};\n\nexport const logoutUser = () => dispatch => {\n  dispatch({ type: USER_LOGOUT });\n};\n\nexport const secretLogin = () => dispatch => {\n  dispatch({ type: USER_LOGIN });\n};\n//REMEMBER TO PUT THIS IN REDUCER!!!!!\n//localStorage.setItem(\"token\", response.data.token);\n//this.props.history.push('/');\n"]},"metadata":{},"sourceType":"module"}